
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShellCoach Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-mono p-4">
  <div class="max-w-4xl mx-auto">
    <div class="text-2xl font-bold text-center mb-6">ShellCoach Terminal</div>
    <div class="bg-black p-4 rounded-lg shadow-lg mb-4 h-96 overflow-y-auto" id="terminalWindow">
      <div id="terminalOutput">user@shellcoach:$ </div>
      <input id="commandInput" class="bg-gray-800 w-full text-white outline-none mt-2 p-2 rounded" autofocus placeholder="Type a Linux command here..." />
    </div>
    <div class="flex items-center gap-4">
      <button id="executeBtn" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">Run Command</button>
      <label class="flex items-center space-x-2">
        <input type="checkbox" id="aiToggle" class="form-checkbox h-4 w-4 text-blue-600">
        <span>AI Explanation</span>
      </label>
    </div>
    <div class="mt-4 bg-gray-800 p-4 rounded hidden" id="aiOutputBox">
      <strong>AI Explanation:</strong>
      <div id="aiExplanationText" class="mt-2"></div>
    </div>
  </div>

  <script>
    const input = document.getElementById('commandInput');
    const output = document.getElementById('terminalOutput');
    const aiToggle = document.getElementById('aiToggle');
    const aiBox = document.getElementById('aiOutputBox');
    const aiText = document.getElementById('aiExplanationText');

    document.getElementById('executeBtn').addEventListener('click', async () => {
      const command = input.value.trim();
      if (!command) return;

      const response = await fetch('/execute', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ command, explain: aiToggle.checked })
      });
      const data = await response.json();

      output.innerHTML += `
${command}
${data.output}
user@shellcoach:$ `;
      if (aiToggle.checked && data.explanation) {
        aiBox.classList.remove('hidden');
        aiText.textContent = data.explanation;
      } else {
        aiBox.classList.add('hidden');
      }
      input.value = "";
      output.scrollTop = output.scrollHeight;
    });
  </script>
</body>
</html>
    
