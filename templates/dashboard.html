
<!DOCTYPE html>
<html>
<head>
    <title>ShellCoach Terminal</title>
    <style>
        body {
            font-family: monospace;
            background-color: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #282c34;
            padding: 1rem;
            text-align: center;
            color: #61dafb;
            font-size: 24px;
            font-weight: bold;
        }
        .terminal {
            padding: 1rem;
        }
        #output {
            white-space: pre-wrap;
            min-height: 300px;
            border: 1px solid #444;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #000;
            color: #0f0;
        }
        input[type=text] {
            width: 100%;
            padding: 0.5rem;
            background-color: #000;
            color: #0f0;
            border: 1px solid #444;
        }
    </style>
</head>
<body>
    <div class="header"><img src='/static/shellcoach_logo.png' height='50'></div>
    <div class="terminal">
    <label style="color:#ccc;"><input type="checkbox" id="aiToggle"> Explain with ShellCoach AI</label>
        <div id="output">Welcome to ShellCoach!
Type commands below:</div>
        <input type="text" id="commandInput" placeholder="Enter Linux command...">
    </div>

    <script>
        const input = document.getElementById('commandInput');
        const output = document.getElementById('output');

        input.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const cmd = input.value;
                
fetch('/execute', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        command: cmd,
        explain: document.getElementById('aiToggle').checked
    })
})

                })
                .then(res => res.json())
                .then(data => {
                    output.textContent += '\n$ ' + cmd + '\n' + data.output;
                    input.value = '';
                    output.scrollTop = output.scrollHeight;
                });
            }
        });
    </script>
</body>
</html>
